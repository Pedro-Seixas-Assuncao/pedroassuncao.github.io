<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <link rel="stylesheet" href="admin.css">

  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">

  <link href="https://unpkg.com/aos@2.3.1/dist/aos.css" rel="stylesheet">

  <script src="https://unpkg.com/aos@2.3.1/dist/aos.js"></script>

<title>Loja do Pedro</title>

</head>

<style>
  img[alt="www.000webhost.com"]{display:none;}
</style>
<body>
  
<script>

  
  AOS.init();

</script>




  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"> </script>


  <script type="module">

  import { initializeApp } from "https://www.gstatic.com/firebasejs/9.10.0/firebase-app.js";
  import { getAnalytics } from "https://www.gstatic.com/firebasejs/9.10.0/firebase-analytics.js";
  import { getAuth, createUserWithEmailAndPassword, onAuthStateChanged, signOut, GoogleAuthProvider } from "https://www.gstatic.com/firebasejs/9.10.0/firebase-auth.js";
  
  import { getDatabase, ref, set, onValue, child, get } from "https://www.gstatic.com/firebasejs/9.10.0/firebase-database.js";
  
  import { getFirestore, doc, getDoc, getDocs, collection } from "https://www.gstatic.com/firebasejs/9.10.0/firebase-firestore.js";
  
  const firebaseConfig = {
  apiKey: "AIzaSyAAU2k_IX3DjOV6GPsXHZUw6VU_GGTzCeA",
  authDomain: "pedromarket-154cc.firebaseapp.com",
  databaseURL: "https://pedromarket-154cc-default-rtdb.europe-west1.firebasedatabase.app",
  projectId: "pedromarket-154cc",
  storageBucket: "pedromarket-154cc.appspot.com",
  messagingSenderId: "967282763908",
  appId: "1:967282763908:web:ba9496cff7343c993c3ad1",
  measurementId: "G-MD1HNHGN5K"
  };
  
  // Initialize Firebase
  const app = initializeApp(firebaseConfig);

  const analytics = getAnalytics(app);
  
  const auth = getAuth();
  
  const provider = new GoogleAuthProvider();
  
  const user = auth.currentUser;

  const db = getFirestore();

  const colRef = collection(db, 'pisos');

  const dbusers = getDatabase();

  const dbRef = ref(getDatabase());

const starCountRef = ref(dbusers, 'users/');

let a = 0;

get(child(dbRef, `users/`)).then((snapshot) => {
    snapshot.forEach(function(childSnapshot) {
      // key will be "ada" the first time and "alan" the second time
      var key = childSnapshot.key;
      // childData will be the actual contents of the child
      var childData = childSnapshot.val();
        a = a + 1;

  });
  if (snapshot.exists()) {


    let totalusers = snapshot.val().length;

    document.getElementById("customers").innerHTML = a + "<br/><span>Accounts</span> ";

} else {
    console.log("No data available");
  }
}).catch((error) => {
  console.error(error);
});



  getDocs(colRef)
    .then((snapshot) => {

        let pisos = [];
        snapshot.docs.forEach((doc) =>{
          pisos.push({...doc.data(), id: doc.id})

          
        } )
        let totalpisos = pisos.length;
        document.getElementById("products").innerHTML = totalpisos + "<br/><span>Products</span> ";
    })
    .catch(err=> {
      console.log(err.message)
    })

    

</script>


	
	<div id="mySidenav" class="sidenav">
	<p class="logo"><span>PM</span>-PedroMarket</p>
  <a href="#" class="icon-a"><i class="fa fa-dashboard icons"></i> &nbsp;&nbsp;Dashboard</a>
  <a href="#"class="icon-a"><i class="fa fa-users icons"></i> &nbsp;&nbsp;Customers</a>
  <a href="#"class="icon-a"><i class="fa fa-shopping-bag icons"></i> &nbsp;&nbsp;Orders</a>
  <a href="#"class="icon-a"><i class="fa fa-user icons"></i> &nbsp;&nbsp;Accounts</a>
  <a href="adminproduto.html"class="icon-a"><i class="fa fa-list icons"></i> &nbsp;&nbsp;Products</a>


</div>
<div id="main">

	<div class="head">
	
<span style="font-size:30px;cursor:pointer; color: white;" class="nav"  >&#9776; Dashboard</span>
<span style="font-size:30px;cursor:pointer; color: white;" class="nav2"  >&#9776; Dashboard</span>

	<div class="clearfix"></div>
</div>

	<div class="clearfix"></div>
	<br/>
	
    <div style=" display: flex; flex-direction: row;">

	<div class="col-div-6">
		<div class="box">
			<p id="customers"><br/><span>Customers</span></p>
			<i class="fa fa-users box-icon"></i>
		</div>
	</div>
	<div class="col-div-6">
		<div class="box">
			<p id="products"><br/><span>Products</span></p>
			<i class="fa fa-list box-icon"></i>
		</div>
	</div>
</div>
<br>

    <div style=" display: flex; flex-direction: row;">
	<div class="col-div-6">
		<div class="box">
			<p id="orders"><br/><span>Orders</span></p>
			<i class="fa fa-shopping-bag box-icon"></i>
		</div>
	</div>
	<div class="col-div-6">
		<div class="box">
			<p><br/><span>Earned Money</span></p>
			<i class="fa fa-tasks box-icon"></i>
		</div>
	</div>
	<div class="clearfix"></div>
	<br/><br/>
</div>

		
	<div class="clearfix"></div>
</div>


<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
<script>

  $(".nav").click(function(){
    $("#mySidenav").css('width','70px');
    $("#main").css('margin-left','70px');
    $(".logo").css('visibility', 'hidden');
    $(".logo span").css('visibility', 'visible');
     $(".logo span").css('margin-left', '-10px');
     $(".icon-a").css('visibility', 'hidden');
     $(".icons").css('visibility', 'visible');
     $(".icons").css('margin-left', '-8px');
      $(".nav").css('display','none');
      $(".nav2").css('display','block');
  });

$(".nav2").click(function(){
    $("#mySidenav").css('width','300px');
    $("#main").css('margin-left','300px');
    $(".logo").css('visibility', 'visible');
     $(".icon-a").css('visibility', 'visible');
     $(".icons").css('visibility', 'visible');
     $(".nav").css('display','block');
      $(".nav2").css('display','none');
 });

</script>
</body>

</html>